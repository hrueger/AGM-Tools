<ActionBar title="Chat" class="action-bar link">
    <NavigationButton text="unread" icon="res://ic_arrow_back" (tap)="goBack()"></NavigationButton>
    <GridLayout rows="auto, auto" columns="auto, auto, *" class="action-bar-title">
        <Image row="0" col="0" rowSpan="2" [src]="chat.contact.avatar" class="thumb"></Image>
        <Label row="0" col="1" [text]="chat.contact.name" class="title"></Label>
        <Label row="1" col="1" [text]="chat.contact.lastseen" class="subtitle"></Label>
    </GridLayout>
</ActionBar>
<GridLayout rows="*, auto" columns="auto" class="wallpaper">
    <StackLayout row="0" column="0" width="100%">
        <ns-messages-area [receiverId]="receiverId" [messageSent]="messageGotToSend" [messages]="messages" class="messages-area">
        </ns-messages-area>
    </StackLayout>
    <StackLayout row="1" column="0" width="100%">
        <FlexboxLayout class="message-box mobile">
            <FlexboxLayout class="text-area">
                <Button (tap)="toggleEmojiPicker()" text="&#xf580;" class="fas icon"></Button>
                <TextView #inputMessageField (tap)="showKeyboard()" hint="Nachricht" [(ngModel)]="inputMessage" class="text-view"></TextView>
                <Button text="&#xf0c6;" class="fas icon"></Button>
                <Button text="&#xf030;" class="fas icon"></Button>
            </FlexboxLayout>
            <Button text="&#xf1d8;" (tap)="sendMessage()" class="fas icon send"></Button>
        </FlexboxLayout>
        <emoji-picker (emojiClick)="onEmojiClick($event)" (backspaceClick)="onBackspaceClick()" [showEmojiPicker]="showEmojiPicker">
        </emoji-picker>
    </StackLayout>

</GridLayout>